jQuery.fn.makeacolumnlists=function(t){t=jQuery.extend({cols:3,colWidth:0,equalHeight:!1,startN:1},t),jQuery("> li",this)&&this.each(function(e){var e=jQuery(".li_container").size(),s=0,i=0,r=jQuery(this),o=r.attr("class"),a=jQuery("> li",this).size(),n=Math.ceil(a/t.cols),l=r.width(),c=isNaN(parseInt(r.css("borderLeftWidth"),10))?0:parseInt(r.css("borderLeftWidth"),10),d=isNaN(parseInt(r.css("borderRightWidth"),10))?0:parseInt(r.css("borderRightWidth"),10),h=parseInt(r.css("paddingLeft"),10),p=parseInt(r.css("paddingRight"),10),u=parseInt(r.css("marginLeft"),10),y=parseInt(r.css("marginRight"),10),f=Math.floor((l-(t.cols-1)*(c+d+h+p+u+y))/t.cols);t.colWidth&&(f=t.colWidth);var _=1,I=n;jQuery(this).addClass("li_cont1").wrap('<div id="li_container'+ ++e+'" class="li_container"></div>'),"li"==t.equalHeight&&jQuery("> li",this).each(function(){var t=jQuery(this),e=isNaN(parseInt(t.css("borderTopWidth"),10))?0:parseInt(t.css("borderTopWidth"),10),r=isNaN(parseInt(t.css("borderBottomWidth"),10))?0:parseInt(t.css("borderBottomWidth"),10);s=t.height()+parseInt(t.css("paddingTop"),10)+parseInt(t.css("paddingBottom"),10)+e+r,i=s>i?s:i});for(var j=0;a>=j;j++){j>=I&&(I+=n,_++);var m=jQuery("> li:eq("+j+")",this);if(m.addClass("li_col"+_),jQuery(this).is("ol")&&m.attr("value",""+(j+t.startN))+"","li"==t.equalHeight){var Q=isNaN(parseInt(m.css("borderTopWidth"),10))?0:parseInt(m.css("borderTopWidth"),10),g=isNaN(parseInt(m.css("borderBottomWidth"),10))?0:parseInt(m.css("borderBottomWidth"),10);mh=i-(parseInt(m.css("paddingTop"),10)+parseInt(m.css("paddingBottom"),10)+Q+g),m.height(mh)}}for(jQuery(this).css({cssFloat:"left",width:""+f+"px"}),_=2;_<=t.cols;_++)jQuery(this).is("ol")?jQuery("li.li_col"+_,this).appendTo("#li_container"+e).wrapAll('<ol class="li_cont'+_+" "+o+'" style="float:left; width: '+f+'px;"></ol>'):jQuery("li.li_col"+_,this).appendTo("#li_container"+e).wrapAll('<ul class="li_cont li_cont'+_+" "+o+'" style="float:left; width: '+f+'px;"></ul>');if("ul"==t.equalHeight||"ol"==t.equalHeight){for(_=1;_<=t.cols;_++)jQuery("#li_container"+e+" .li_cont"+_).each(function(){var t=jQuery(this),e=isNaN(parseInt(t.css("borderTopWidth"),10))?0:parseInt(t.css("borderTopWidth"),10),r=isNaN(parseInt(t.css("borderBottomWidth"),10))?0:parseInt(t.css("borderBottomWidth"),10);s=t.height()+parseInt(t.css("paddingTop"),10)+parseInt(t.css("paddingBottom"),10)+e+r,i=s>i?s:i});for(_=1;_<=t.cols;_++){var m=jQuery("#li_container"+e+" .li_cont"+_),Q=isNaN(parseInt(m.css("borderTopWidth"),10))?0:parseInt(m.css("borderTopWidth"),10),g=isNaN(parseInt(m.css("borderBottomWidth"),10))?0:parseInt(m.css("borderBottomWidth"),10);mh=i-(parseInt(m.css("paddingTop"),10)+parseInt(m.css("paddingBottom"),10)+Q+g),m.height(mh)}}jQuery("#li_container"+e).append('<div style="clear:both; overflow:hidden; height:0px;"></div>')})},jQuery.fn.uncolumnlists=function(){jQuery(".li_cont1").each(function(t){var e=jQuery("#li_container"+ ++t+" .li_cont1 > li").size();if(jQuery("#li_container"+t+" .li_cont1").is("ul")){jQuery("#li_container"+t+" > ul > li").appendTo("#li_container"+t+" ul:first");for(var s=1;e>=s;s++)jQuery("#li_container"+t+" ul:first li").removeAttr("class").removeAttr("style");jQuery("#li_container"+t+" ul:first").removeAttr("style").removeClass("li_cont1").insertBefore("#li_container"+t)}else{jQuery("#li_container"+t+" > ol > li").appendTo("#li_container"+t+" ol:first");for(var s=1;e>=s;s++)jQuery("#li_container"+t+" ol:first li").removeAttr("class").removeAttr("style");jQuery("#li_container"+t+" ol:first").removeAttr("style").removeClass("li_cont1").insertBefore("#li_container"+t)}jQuery("#li_container"+t).remove()})};